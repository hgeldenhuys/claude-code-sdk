# =============================================================================
# Tapestry SignalDB Configuration
# =============================================================================
#
# Tapestry is the flagship identity for this AI orchestration platform:
# - Loom     -> Workflow threads (story management)
# - Weave    -> Knowledge fabric (institutional memory)
# - COMMS    -> Signal threads (agent communication)
# - Tapestry -> The complete strategic picture (CIO-AI)
#
# Copy this file to .env.tapestry and fill in your values.
# Get your project keys from: https://signaldb.live
# =============================================================================

# =============================================================================
# Development Environment
# =============================================================================
# Local development, throwaway data, rapid iteration

TAPESTRY_DEV_API_URL=https://tapestry-dev.signaldb.live
TAPESTRY_DEV_PROJECT_KEY=sk_test_dev_your_key_here

# =============================================================================
# Test Environment (UAT/CI)
# =============================================================================
# UAT, CI/CD integration tests, pre-release validation

TAPESTRY_TEST_API_URL=https://tapestry-test.signaldb.live
TAPESTRY_TEST_PROJECT_KEY=sk_test_your_key_here

# =============================================================================
# Production Environment
# =============================================================================
# Production agent communication (use with caution)

TAPESTRY_LIVE_API_URL=https://tapestry-live.signaldb.live
TAPESTRY_LIVE_PROJECT_KEY=sk_live_your_key_here

# =============================================================================
# Machine Identity
# =============================================================================
# Unique identifier for this machine (defaults to hostname)

TAPESTRY_MACHINE_ID=

# =============================================================================
# Feature Flags
# =============================================================================

# Enable SSE connections (default: true)
TAPESTRY_SSE_ENABLED=true

# Enable audit logging (default: true in dev/test, false in live)
TAPESTRY_AUDIT_ENABLED=

# Heartbeat interval in milliseconds (default: 10000)
TAPESTRY_HEARTBEAT_INTERVAL_MS=10000

# =============================================================================
# Rate Limits (per environment override)
# =============================================================================

# Messages per minute (default: 60)
# TAPESTRY_RATE_LIMIT_MESSAGES=60

# Channel creates per minute (default: 10)
# TAPESTRY_RATE_LIMIT_CHANNELS=10

# Paste creates per minute (default: 30)
# TAPESTRY_RATE_LIMIT_PASTES=30

# =============================================================================
# Discord Bot Bridge (optional)
# =============================================================================
# Enables Discord as a chat interface for agents.
# Agent channels are auto-created when agents come online.
#
# Setup:
# 1. Create app at https://discord.com/developers/applications
# 2. Bot tab → Add Bot → Copy token
# 3. OAuth2 → scopes: bot, applications.commands
# 4. Permissions: Send Messages, Create Public Threads, Manage Channels,
#    Manage Threads, Read Message History, Use Slash Commands, Embed Links
# 5. Invite bot to server with generated URL

# DISCORD_TOKEN=           # Bot token from Discord Developer Portal
# DISCORD_GUILD_ID=        # Discord server (guild) ID
# DISCORD_AGENT_CATEGORY_ID=  # Optional: auto-created "Agents" category if not set
